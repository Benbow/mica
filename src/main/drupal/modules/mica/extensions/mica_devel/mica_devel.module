<?php
/**
 * @file
 * Code for the mica_devel feature.
 */

include_once('mica_devel.features.inc');

function mica_devel_menu() {
	$items['admin/config/development/mica'] = array(
    'title' => 'Mica Devel',
    'description' => 'development tools for Mica',
  	'page callback' => 'drupal_get_form',
    'page arguments' => array('_mica_devel_form'),
    'access arguments' => array('administer site configuration'),
	);
	return $items;
}

function _mica_devel_form() {

  $form['mica_devel'] = array(
    '#type' => 'fieldset',
    '#title' => t('Rebuild menus'),
    '#description' => t('(Re)populate the database tables used by various menu functions.'),
  );
  $form['mica_devel']['rebuild'] = array(
    '#type' => 'submit',
    '#value' => t('Rebuild menus'),
    '#submit' => array('menu_rebuild'),
  );

  $form['dummy'] = array(
    '#type' => 'fieldset',
    '#title' => t('Exemple'),
    '#description' => t('Form example to run custom actions'),
  );
  $form['dummy']['run'] = array(
    '#type' => 'submit',
    '#value' => t('Run dummy method'),
    '#submit' => array('_mica_devel_dummy_run'),
  );

	return $form;
}

function _mica_devel_dummy_run() {
  drupal_set_message("Run dummy method...");
}
